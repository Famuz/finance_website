{"version":3,"sources":["helpers/middleware.js"],"names":["validationResult","require","module","exports","handleErrors","templateFunc","dataCb","async","req","res","next","errors","isEmpty","data","send"],"mappings":"AAAA,MAAMA,iBAAEA,kBAAoBC,QAAQ,qBAEpCC,OAAOC,QAAU,CACfC,aAAY,CAACC,EAAcC,IAClBC,MAAOC,EAAKC,EAAKC,KACtB,MAAMC,EAASX,iBAAiBQ,GAEhC,IAAKG,EAAOC,UAAW,CACrB,IAAIC,EAAO,GAKX,OAJGP,IACDO,QAAaP,EAAOE,IAGfC,EAAIK,KAAKT,EAAa,CAAEM,OAAAA,KAAWE,KAE5CH","file":"middleware.js","sourcesContent":["const { validationResult }= require('express-validator');\n\nmodule.exports = {\n  handleErrors(templateFunc, dataCb) {\n    return async (req, res, next) => {\n      const errors = validationResult(req);\n      \n      if (!errors.isEmpty()) {\n        let data = {};\n        if(dataCb) {\n          data = await dataCb(req);\n        }\n\n        return res.send(templateFunc({ errors, ...data }));\n      }\n      next();\n    };\n  }\n};"]}